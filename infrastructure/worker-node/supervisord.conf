; Tether Worker Supervisor Configuration
; THR-172: Provision worker nodes
;
; 3 Supervisors:
; 1. webhooks - High priority, fast processing
; 2. billing - Payment processing jobs
; 3. default - General purpose jobs

[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid

; ============================================
; Horizon Master Process
; ============================================
[program:horizon]
process_name=%(program_name)s
command=php /var/www/html/artisan horizon
autostart=true
autorestart=true
user=www-data
redirect_stderr=true
stdout_logfile=/var/log/supervisor/horizon.log
stdout_logfile_maxbytes=10MB
stdout_logfile_backups=5
stopwaitsecs=3600
